(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["hr"],{"0f8f":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"arkn-hr"}},[t.ready?[n("div",{staticClass:"mdui-row"},[n("div",{staticClass:"mdui-col-xs-12"},[n("div",{class:t.$root.smallScreen?"mdui-drawer mdui-drawer-right mdui-drawer-close":"mdui-m-t-4",attrs:{id:"drawer"}},[n("table",{staticClass:"mdui-table tag-table"},[n("tbody",[n("tr",[t.$root.smallScreen?t._e():n("td",{attrs:{width:"1"}},[n("button",{staticClass:"mdui-btn mdui-btn-dense mdui-color-teal no-pe tag-btn"},[t._v("星级")])]),n("td",{attrs:{colspan:!!t.$root.smallScreen&&2}},[t.$root.smallScreen?n("label",{staticClass:"mdui-textfield-label"},[t._v("星级")]):t._e(),n("button",{class:"mdui-btn mdui-btn-dense mdui-ripple tag-btn "+(t.allStar?t.color.selected:t.color.notSelected),on:{click:function(e){t.selected.star=t.l.fill(Array(t.selected.star.length),!t.allStar)}}},[t._v("全选")]),t._l(6,function(e){return n("tag-button",{key:"star-"+(7-e),attrs:{notSelectedColor:t.color.notSelected,selectedColor:t.color[7-e]},model:{value:t.selected.star[6-e],callback:function(n){t.$set(t.selected.star,6-e,n)},expression:"selected.star[6-i]"}},[t._v(t._s(7-e)+"★")])})],2)]),t._l(t.tagList.sort,function(e){return n("tr",{key:e.en},[t.$root.smallScreen?t._e():n("td",[n("button",{staticClass:"mdui-btn mdui-btn-dense mdui-color-teal no-pe tag-btn"},[t._v(t._s(e.zh))])]),n("td",{attrs:{colspan:!!t.$root.smallScreen&&2}},[t.$root.smallScreen?n("label",{staticClass:"mdui-textfield-label"},[t._v(t._s(e.zh))]):t._e(),t._l(t.tagList[e.en],function(e){return n("tag-button",{key:e,attrs:{notSelectedColor:t.color.notSelected,selectedColor:t.color.selected},on:{"!click":function(e){return t.test(e)}},model:{value:t.selected.tag[e],callback:function(n){t.$set(t.selected.tag,e,n)},expression:"selected.tag[tag]"}},[t._v(t._s(e))])})],2)])}),n("tr",[t.$root.smallScreen?t._e():n("td",{attrs:{width:"1"}},[n("label",{staticClass:"mdui-textfield-label",staticStyle:{opacity:"0"}},[t._v("_")]),n("button",{staticClass:"mdui-btn mdui-btn-dense mdui-color-red tag-btn",on:{click:t.reset}},[t._v("重置")])]),n("td",{attrs:{colspan:!!t.$root.smallScreen&&2}},[n("label",{staticClass:"mdui-textfield-label"},[t._v("设置项（这些设置会被永久保存）")]),t._l(t.settingZh,function(e,r){return n("mdui-switch",{key:r,model:{value:t.setting[r],callback:function(e){t.$set(t.setting,r,e)},expression:"setting[en]"}},[t._v(t._s(e))])})],2)]),t.$root.smallScreen?n("tr",[n("td",{attrs:{colspan:"2"}},[n("button",{staticClass:"mdui-btn mdui-ripple mdui-btn-dense mdui-color-red tag-btn",on:{click:t.reset}},[t._v("重置")])])]):t._e()],2)])])])]),t.selected.tag["高级资深干员"]?n("div",{staticClass:"mdui-chip mdui-m-t-4"},[t._m(0),n("span",{staticClass:"mdui-chip-title mdui-text-truncate",style:t.$root.screenWidth<360&&"font-size:12px"},[t._v("请拉满 9 个小时以保证“高级资深干员”不被划掉")])]):t._e(),n("div",{staticClass:"mdui-row mdui-m-t-4"},[n("div",{staticClass:"mdui-col-xs-12"},[t.$root.smallScreen?n("div",{staticClass:"comb-small"},[n("table",{staticClass:"mdui-table comb-table mdui-shadow-0 no-border"},[t._m(2),n("tbody",[t._l(t.combinations,function(e,r){return[n("tr",{key:"comb-"+r+"-tr1"},[n("td",{staticClass:"mdui-p-b-0 no-border",attrs:{colspan:"2"}},t._l(e.tags,function(e){return n("button",{key:"comb-"+r+"-"+e,class:"mdui-btn mdui-btn-dense no-pe tag-btn "+t.color.selected},[t._v(t._s(e))])}),0)]),n("tr",{key:"comb-"+r+"-tr2"},[n("td",{attrs:{colspan:"2"}},t._l(e.chars,function(e){return n("button",{key:"comb-"+r+"-"+e,class:"mdui-btn mdui-btn-dense tag-btn "+t.color[t.hr[e].star],attrs:{"has-avatar":t.setting.showAvatar},on:{click:function(n){return t.showDetail(e)}}},[t.setting.showAvatar?n("img",{staticClass:"tag-avatar",attrs:{src:t.$root.qhimg(t.addition[t.hr[e].name].img)}}):t._e(),t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(t.hr[e].name)+"\n\t\t\t\t\t\t\t\t\t\t")])}),0)])]}),0==t.combinations.length?n("tr",[n("td",{staticClass:"no-border",attrs:{colspan:"2"}},[t._v("请点击右下角的按钮选择词条")])]):t._e()],2)])]):n("div",{staticClass:"comb-large"},[n("table",{staticClass:"mdui-table mdui-table-hoverable comb-table"},[t._m(1),n("tbody",t._l(t.combinations,function(e,r){return n("tr",{key:"comb-"+r},[n("td",[t._v(t._s(r+1))]),n("td",t._l(e.tags,function(e){return n("button",{key:"comb-"+r+"-"+e,class:"mdui-btn mdui-btn-dense no-pe tag-btn "+t.color.selected},[t._v(t._s(e))])}),0),n("td",[n("button",{class:"mdui-btn mdui-btn-dense no-pe tag-btn "+t.color[e.min]},[t._v(t._s(e.min)+"★")])]),n("td",t._l(e.chars,function(e){return n("button",{key:"comb-"+r+"-"+e,class:"mdui-btn mdui-btn-dense tag-btn "+t.color[t.hr[e].star],attrs:{"has-avatar":t.setting.showAvatar},on:{click:function(n){return t.showDetail(e)}}},[t.setting.showAvatar?n("img",{staticClass:"tag-avatar",attrs:{src:t.$root.qhimg(t.addition[t.hr[e].name].img)}}):t._e(),t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t.hr[e].name)+"\n\t\t\t\t\t\t\t\t\t")])}),0)])}),0)])])])]),n("div",{staticClass:"mdui-dialog mdui-card",attrs:{id:"detail"}},[n("div",{staticClass:"mdui-card-header mdui-p-b-0"},[n("img",{staticClass:"mdui-card-header-avatar",attrs:{src:!!t.addition[t.detail.name]&&t.$root.qhimg(t.addition[t.detail.name].img)}}),n("div",{staticClass:"mdui-card-header-title"},[n("span",[t._v(t._s(t.detail.name))]),n("button",{class:"mdui-btn mdui-btn-dense no-pe tag-btn mdui-m-l-1 mdui-m-y-0 "+t.color.selected},[t._v(t._s(t.detail.job))]),n("button",{class:"mdui-btn mdui-btn-dense no-pe tag-btn mdui-m-y-0 "+t.color[t.detail.star]},[t._v(t._s(t.detail.star)+"★")])]),n("div",{staticClass:"mdui-card-header-subtitle"},[t._v(t._s(t.detail.memo))]),n("div",{staticClass:"detail-tags"},t._l(t.detail.tags,function(e){return n("button",{key:"detail-"+e,class:"mdui-btn mdui-btn-dense no-pe tag-btn "+(t.selected.tag[e]?t.color.selected:t.color.notSelected)},[t._v(t._s(e))])}),0)]),n("div",{staticClass:"mdui-dialog-actions"},[n("a",{staticClass:"mdui-btn mdui-ripple mdui-color-teal",attrs:{href:"http://wiki.joyme.com/arknights/"+t.detail.name,target:"_blank"}},[t._v("在 Wiki 查看")]),n("button",{staticClass:"mdui-btn mdui-ripple mdui-color-pink",attrs:{"mdui-dialog-close":""}},[t._v("关闭")])])]),t.$root.smallScreen?n("button",{staticClass:"mdui-fab mdui-fab-fixed mdui-fab-mini mdui-color-pink-accent mdui-ripple",staticStyle:{"z-index":"10000"},on:{click:function(e){!t.drawer&&(t.drawer=new t.$root.Mdui.Drawer("#drawer")),t.drawer.toggle()}}},[n("i",{staticClass:"mdui-icon material-icons"},[t._v("sort")])]):t._e()]:n("mdui-progress")],2)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"mdui-chip-icon mdui-color-red"},[n("i",{staticClass:"mdui-icon material-icons"},[t._v("priority_high")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",{staticClass:"mdui-table-col-numeric",attrs:{width:"1"}},[t._v("#")]),n("th",{attrs:{width:"20%"}},[t._v("词条")]),n("th",{staticClass:"mdui-text-center",attrs:{width:"1"}},[t._v("可保底")]),n("th",{attrs:{width:"80%"}},[t._v("可能出现（点击干员查看详细信息）")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("词条")]),n("th",[t._v("可能出现（点击干员查看详情）")])])])}],i=(n("1c4c"),n("96cf"),n("3b8d")),s=(n("ac4d"),n("8a81"),n("55dd"),n("6762"),n("2fdb"),n("ac6a"),n("5df3"),n("4f7f"),n("6c7b"),n("3b4e"),n("2ef0")),o=n.n(s),c=[],l={name:"arkn-hr",data:function(){return{l:o.a,ready:!1,showAll:!1,hr:[],addition:{},tags:{"资深干员":[],"高级资深干员":[]},selected:{star:o.a.fill(Array(6),!0),tag:{}},setting:{showAvatar:!1,hide12:!1,hideSingleFemale:!1},settingZh:{showAvatar:"显示头像",hide12:"隐藏1★2★",hideSingleFemale:"隐藏单独的“女性干员”词条"},avgCharTag:0,tagList:{sex:["男性干员","女性干员"],location:["近战位","远程位"],credentials:["新手","资深干员","高级资深干员"],job:["先锋干员","狙击干员","医疗干员","术师干员","近卫干员","重装干员","辅助干员","特种干员"],features:new Set,sort:[{zh:"资质",en:"credentials"},{zh:"位置",en:"location"},{zh:"性别",en:"sex"},{zh:"职业",en:"job"},{zh:"特性",en:"features"}]},color:{notSelected:"mdui-color-brown-300",selected:"mdui-color-grey-800",6:"mdui-color-red-700",5:"mdui-color-orange-900",4:"mdui-color-cyan-700",3:"mdui-color-green-700",2:"mdui-color-brown-700",1:"mdui-color-grey-700"},detail:0,drawer:!1}},watch:{"selected.tag":{handler:function(){var t=o.a.flatMap(this.selected.tag,function(t,e){return t?[e]:[]});if(t.length>6){for(var e in new this.$root.Mdui.alert("最多只能同时选择 6 个词条噢！",null,null,{confirmText:"好吧",history:!1}),this.selected.tag)this.selected.tag[e]=c.includes(e);t=c}else c=t},deep:!0},setting:{handler:function(t){localStorage.setItem("hr.setting",JSON.stringify(t))},deep:!0}},computed:{allStar:function(){return o.a.sum(this.selected.star)==this.selected.star.length},combinations:function(){var t=this,e=o.a.flatMap(this.selected.tag,function(t,e){return t?[e]:[]}),n=o.a.flatMap(this.selected.star,function(t,e){return t?[e+1]:[]}),r=o.a.flatMap([1,2,3],function(t){return o.a.combinations(e,t)}),a=[],i=!0,s=!1,c=void 0;try{for(var l,u=r[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var d=l.value;if(!this.setting.hideSingleFemale||1!=d.length||"女性干员"!=d[0]){var h=[],f=!0,m=!1,v=void 0;try{for(var b,g=d[Symbol.iterator]();!(f=(b=g.next()).done);f=!0){var _=b.value;h.push(this.tags[_])}}catch(k){m=!0,v=k}finally{try{f||null==g.return||g.return()}finally{if(m)throw v}}var p=o.a.intersection.apply(o.a,h);if(d.includes("高级资深干员")||o.a.remove(p,function(e){return 6==t.hr[e].star}),0!=p.length){var y=o.a.filter(p,function(e){return t.hr[e].star>=3});0==y.length&&(y=p);var w=o.a.sumBy(y,function(e){return t.hr[e].star})/y.length-d.length/10-y.length/this.avgCharTag,C=o.a.minBy(y,function(e){return t.hr[e].star});o.a.remove(p,function(e){return!n.includes(t.hr[e].star)}),this.setting.hide12&&o.a.remove(p,function(e){return t.hr[e].star<3}),0!=p.length&&a.push({tags:d,chars:p,min:this.hr[C].star,score:w})}}}}catch(k){s=!0,c=k}finally{try{i||null==u.return||u.return()}finally{if(s)throw c}}return a.sort(function(t,e){return t.min==e.min?e.score-t.score:e.min-t.min}),a}},methods:{reset:function(){for(var t in this.selected.star=o.a.fill(Array(this.selected.star.length),!0),this.selected.tag)this.selected.tag[t]=!1},showDetail:function(t){var e=this;this.detail=this.hr[t],this.$root.$nextTick(function(){return new e.$root.Mdui.Dialog("#detail",{history:!1}).open()})}},created:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n,r,a,i,s=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$root.getData("addition");case 2:return this.addition=t.sent,t.next=5,this.$root.getData("hr");case 5:for(a in this.hr=t.sent,this.hr.sort(function(t,e){return e.star-t.star}),e=0,n=this.tagList.location.concat(this.tagList.credentials),this.hr.forEach(function(t,r){var a=t.pub,i=t.sex,o=t.tags,c=t.job,l=t.star;if(a){var u=!0,d=!1,h=void 0;try{for(var f,m=o[Symbol.iterator]();!(u=(f=m.next()).done);u=!0){var v=f.value;n.includes(v)||s.tagList.features.add(v)}}catch(C){d=!0,h=C}finally{try{u||null==m.return||m.return()}finally{if(d)throw h}}switch(l){case 5:s.tags["资深干员"].push(r);break;case 6:s.tags["高级资深干员"].push(r);break}o.push("".concat(i,"性干员")),o.push("".concat(c,"干员"));var b=!0,g=!1,_=void 0;try{for(var p,y=o[Symbol.iterator]();!(b=(p=y.next()).done);b=!0){var w=p.value;s.tags[w]||(s.tags[w]=[]),s.tags[w].push(r)}}catch(C){g=!0,_=C}finally{try{b||null==y.return||y.return()}finally{if(g)throw _}}e+=o.length}}),r=o.a.size(this.tags),this.avgCharTag=e/r,this.tagList.features=Array.from(this.tagList.features).sort(function(t,e){return t.length==e.length?t.localeCompare(e):t.length-e.length}),this.tags)this.$set(this.selected.tag,a,!1);i=localStorage.getItem("hr.setting"),i&&(this.setting=JSON.parse(i)),this.ready=!0;case 17:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},u=l,d=(n("77a5"),n("2877")),h=Object(d["a"])(u,r,a,!1,null,null,null);e["default"]=h.exports},"1c4c":function(t,e,n){"use strict";var r=n("9b43"),a=n("5ca1"),i=n("4bf8"),s=n("1fa8"),o=n("33a4"),c=n("9def"),l=n("f1ae"),u=n("27ee");a(a.S+a.F*!n("5cc5")(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,a,d,h=i(t),f="function"==typeof this?this:Array,m=arguments.length,v=m>1?arguments[1]:void 0,b=void 0!==v,g=0,_=u(h);if(b&&(v=r(v,m>2?arguments[2]:void 0,2)),void 0==_||f==Array&&o(_))for(e=c(h.length),n=new f(e);e>g;g++)l(n,g,b?v(h[g],g):h[g]);else for(d=_.call(h),n=new f;!(a=d.next()).done;g++)l(n,g,b?s(d,v,[a.value,g],!0):a.value);return n.length=g,n}})},"3b4e":function(t,e,n){(function(t,e){e(n("2ef0"))})(0,function(t){"use strict";function e(t){var e=function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];return t.call.apply(t,[this,e].concat(n))};return e}t=t&&t.hasOwnProperty("default")?t["default"]:t,t.mixin({combinations:function(n,r){n=t.values(n);var a=[];return e(function(e,i,s){i.length<r?t.find(n,function(n,r){e(t.concat(i,[n]),r+1)},s):a.push(i)})([],0),a}})})},"3b81":function(t,e,n){},"4f7f":function(t,e,n){"use strict";var r=n("c26b"),a=n("b39a"),i="Set";t.exports=n("e0b8")(i,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(a(this,i),t=0===t?0:t,t)}},r)},"5dbc":function(t,e,n){var r=n("d3f4"),a=n("8b97").set;t.exports=function(t,e,n){var i,s=e.constructor;return s!==n&&"function"==typeof s&&(i=s.prototype)!==n.prototype&&r(i)&&a&&a(t,i),t}},"5df3":function(t,e,n){"use strict";var r=n("02f4")(!0);n("01f9")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},"77a5":function(t,e,n){"use strict";var r=n("3b81"),a=n.n(r);a.a},"8b97":function(t,e,n){var r=n("d3f4"),a=n("cb7c"),i=function(t,e){if(a(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(a){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:i}},b39a:function(t,e,n){var r=n("d3f4");t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},c26b:function(t,e,n){"use strict";var r=n("86cc").f,a=n("2aeb"),i=n("dcbc"),s=n("9b43"),o=n("f605"),c=n("4a59"),l=n("01f9"),u=n("d53b"),d=n("7a56"),h=n("9e1e"),f=n("67ab").fastKey,m=n("b39a"),v=h?"_s":"size",b=function(t,e){var n,r=f(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,l){var u=t(function(t,r){o(t,u,e,"_i"),t._t=e,t._i=a(null),t._f=void 0,t._l=void 0,t[v]=0,void 0!=r&&c(r,n,t[l],t)});return i(u.prototype,{clear:function(){for(var t=m(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[v]=0},delete:function(t){var n=m(this,e),r=b(n,t);if(r){var a=r.n,i=r.p;delete n._i[r.i],r.r=!0,i&&(i.n=a),a&&(a.p=i),n._f==r&&(n._f=a),n._l==r&&(n._l=i),n[v]--}return!!r},forEach:function(t){m(this,e);var n,r=s(t,arguments.length>1?arguments[1]:void 0,3);while(n=n?n.n:this._f){r(n.v,n.k,this);while(n&&n.r)n=n.p}},has:function(t){return!!b(m(this,e),t)}}),h&&r(u.prototype,"size",{get:function(){return m(this,e)[v]}}),u},def:function(t,e,n){var r,a,i=b(t,e);return i?i.v=n:(t._l=i={i:a=f(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=i),r&&(r.n=i),t[v]++,"F"!==a&&(t._i[a]=i)),t},getEntry:b,setStrong:function(t,e,n){l(t,e,function(t,n){this._t=m(t,e),this._k=n,this._l=void 0},function(){var t=this,e=t._k,n=t._l;while(n&&n.r)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?u(0,"keys"==e?n.k:"values"==e?n.v:[n.k,n.v]):(t._t=void 0,u(1))},n?"entries":"values",!n,!0),d(e)}}},e0b8:function(t,e,n){"use strict";var r=n("7726"),a=n("5ca1"),i=n("2aba"),s=n("dcbc"),o=n("67ab"),c=n("4a59"),l=n("f605"),u=n("d3f4"),d=n("79e5"),h=n("5cc5"),f=n("7f20"),m=n("5dbc");t.exports=function(t,e,n,v,b,g){var _=r[t],p=_,y=b?"set":"add",w=p&&p.prototype,C={},k=function(t){var e=w[t];i(w,t,"delete"==t?function(t){return!(g&&!u(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!u(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!u(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof p&&(g||w.forEach&&!d(function(){(new p).entries().next()}))){var S=new p,x=S[y](g?{}:-0,1)!=S,$=d(function(){S.has(1)}),A=h(function(t){new p(t)}),z=!g&&d(function(){var t=new p,e=5;while(e--)t[y](e,e);return!t.has(-0)});A||(p=e(function(e,n){l(e,p,t);var r=m(new _,e,p);return void 0!=n&&c(n,b,r[y],r),r}),p.prototype=w,w.constructor=p),($||z)&&(k("delete"),k("has"),b&&k("get")),(z||x)&&k(y),g&&w.clear&&delete w.clear}else p=v.getConstructor(e,t,b,y),s(p.prototype,n),o.NEED=!0;return f(p,t),C[t]=p,a(a.G+a.W+a.F*(p!=_),C),g||v.setStrong(p,t,b),p}},f1ae:function(t,e,n){"use strict";var r=n("86cc"),a=n("4630");t.exports=function(t,e,n){e in t?r.f(t,e,a(0,n)):t[e]=n}}}]);
//# sourceMappingURL=hr-legacy.50442a24.js.map