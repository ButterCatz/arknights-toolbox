(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["level"],{"17a1":function(t){t.exports={d:[[30],[30],[40,55],[45,60,70],[50,70,80],[50,80,90]],a:[[100,117,134,151,168,185,202,219,236,253,270,287,304,321,338,355,372,389,406,423,440,457,474,491,508,525,542,559,574,589,605,621,637,653,669,685,701,716,724,739,749,759,770,783,804,820,836,852,888],[120,172,224,276,328,380,432,484,536,588,640,692,744,796,848,900,952,1004,1056,1108,1160,1212,1264,1316,1368,1420,1472,1524,1576,1628,1706,1784,1862,1940,2018,2096,2174,2252,2330,2408,2584,2760,2936,3112,3288,3464,3640,3816,3992,4168,4344,4520,4696,4890,5326,6019,6312,6505,6838,7391,7657,7823,8089,8355,8621,8887,9153,9419,9605,9951,10448,10945,11442,11939,12436,12933,13430,13927,14549],[191,303,415,527,639,751,863,975,1087,1199,1311,1423,1535,1647,1759,1871,1983,2095,2207,2319,2431,2543,2655,2767,2879,2991,3103,3215,3327,3439,3602,3765,3928,4091,4254,4417,4580,4743,4906,5069,5232,5395,5558,5721,5884,6047,6210,6373,6536,6699,6902,7105,7308,7511,7714,7917,8120,8323,8526,8729,9163,9597,10031,10465,10899,11333,11767,12201,12729,13069,13747,14425,15103,15781,16459,17137,17815,18493,19171,19849,21105,22361,23617,24873,26129,27385,28641,29897,31143]],b:[[30,36,43,50,57,65,73,81,90,99,108,118,128,138,149,160,182,206,231,258,286,315,346,378,411,446,482,520,557,595,635,677,720,764,809,856,904,952,992,1042,1086,1131,1178,1229,1294,1353,1413,1474,1572],[48,71,95,120,146,173,201,231,262,293,326,361,396,432,470,508,548,589,631,675,719,765,811,859,908,958,1010,1062,1116,1171,1245,1322,1400,1480,1562,1645,1731,1817,1906,1996,2171,2349,2531,2717,2907,3100,3298,3499,3705,3914,4127,4344,4565,4807,5294,6049,6413,6681,7098,7753,8116,8378,8752,9132,9518,9909,10306,10709,11027,11533,12224,12926,13639,14363,15097,15843,16599,17367,18303],[76,124,173,225,279,334,392,451,513,577,642,710,780,851,925,1001,1079,1159,1240,1324,1410,1498,1588,1680,1773,1869,1967,2067,2169,2273,2413,2556,2702,2851,3003,3158,3316,3477,3640,3807,3976,4149,4324,4502,4684,4868,5055,5245,5438,5634,5867,6103,6343,6587,6835,7086,7340,7599,7861,8127,8613,9108,9610,10120,10637,11163,11696,12238,12882,13343,14159,14988,15828,16681,17545,18422,19311,20213,21126,22092,23722,25380,27065,28778,30519,32287,34083,35906,37745]],c:[[],[],[1e4],[15e3,6e4],[2e4,12e4],[3e4,18e4]]}},2992:function(t,e,i){"use strict";var a=i("3d74"),n=i.n(a);n.a},"3d74":function(t,e,i){},"46aa":function(t,e,i){},"73e0":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"arkn-level"}},[i("div",{staticClass:"mdui-row mdui-m-t-4"},[i("div",{staticClass:"mdui-col-md-5"},[i("table",{staticClass:"mdui-table tag-table"},[i("tbody",[i("tr",[t._m(0),i("td",{staticClass:"mdui-valign"},[i("div",{staticClass:"with-label mdui-m-r-3"},[i("label",{staticClass:"mdui-textfield-label"},[t._v("星级")]),i("mdui-select-num",{attrs:{options:t.l.range(6,0)},on:{change:t.updateSelect},model:{value:t.inputs.star,callback:function(e){t.$set(t.inputs,"star",e)},expression:"inputs.star"}})],1),t._m(1),t._m(2),i("button",{staticClass:"mdui-btn mdui-ripple mdui-btn-dense mdui-color-red tag-btn",on:{click:t.reset}},[t._v("重置")])])]),i("tr",[t._m(3),i("td",{staticClass:"mdui-valign"},[i("div",{staticClass:"with-label mdui-m-r-3"},[i("label",{staticClass:"mdui-textfield-label"},[t._v("精英化")]),i("mdui-select-num",{staticClass:"select-need-update",attrs:{options:t.l.range(0,t.maxElite[t.inputs.star-1]+1)},on:{change:t.updateSelect},model:{value:t.inputs.current.elite,callback:function(e){t.$set(t.inputs.current,"elite",e)},expression:"inputs.current.elite"}})],1),i("mdui-number-input",{staticClass:"mdui-m-r-3",model:{value:t.inputs.current.level,callback:function(e){t.$set(t.inputs.current,"level",t._n(e))},expression:"inputs.current.level"}},[t._v("等级")]),i("mdui-number-input",{staticStyle:{width:"80px"},model:{value:t.inputs.current.exp,callback:function(e){t.$set(t.inputs.current,"exp",t._n(e))},expression:"inputs.current.exp"}},[t._v("经验")])],1)]),i("tr",[t._m(4),i("td",{staticClass:"mdui-valign"},[i("div",{staticClass:"with-label mdui-m-r-3"},[i("label",{staticClass:"mdui-textfield-label"},[t._v("精英化")]),i("mdui-select-num",{staticClass:"select-need-update",attrs:{options:t.l.range(t.inputs.current.elite,t.maxElite[t.inputs.star-1]+1)},on:{change:t.updateSelect},model:{value:t.inputs.target.elite,callback:function(e){t.$set(t.inputs.target,"elite",e)},expression:"inputs.target.elite"}})],1),i("mdui-number-input",{model:{value:t.inputs.target.level,callback:function(e){t.$set(t.inputs.target,"level",t._n(e))},expression:"inputs.target.level"}},[t._v("等级")])],1)]),i("tr",[t._m(5),i("td",{staticClass:"mdui-valign"},[t._l(t.l.range(5,1),function(e){return i("div",{key:"have-"+e,staticClass:"mdui-m-r-2 mdui-m-b-1 mdui-valign"},[i("arkn-item",{attrs:{t:e,img:"E-"+e+"-1"}}),i("mdui-number-input",{staticClass:"exp-input",model:{value:t.inputs.have[e],callback:function(i){t.$set(t.inputs.have,e,t._n(i))},expression:"inputs.have[i]"}},[t._v(t._s(t.expZh[e-2]))])],1)}),i("div",{staticClass:"mdui-m-r-2 mdui-m-b-1 mdui-valign"},[i("arkn-item",{attrs:{t:"4",img:"G-4-1"}}),i("mdui-number-input",{staticClass:"exp-input",staticStyle:{width:"80px"},model:{value:t.inputs.money,callback:function(e){t.$set(t.inputs,"money",t._n(e))},expression:"inputs.money"}},[t._v("龙门币")])],1)],2)])])])]),i("div",{staticClass:"mdui-col-md-7 mdui-p-x-2 mdui-typo"},[i("h2",{staticClass:"mdui-hidden-sm-down mdui-m-t-0"},[t._v("至少需要")]),i("h2",{staticClass:"mdui-hidden-md-up"},[t._v("总需求")]),i("div",{staticClass:"num-item-list"},[i("arkn-num-item",{attrs:{t:"5",img:"EO-4-1",lable:"经验值",num:t.result.exp}}),i("arkn-num-item",{staticClass:"mdui-m-r-0",attrs:{t:"4",img:"G-4-1",lable:"龙门币(总共)",num:t.result.cost}}),t.inputs.money?i("arkn-num-item",{attrs:{t:"4",img:"G-4-1",lable:"龙门币(仍需)",num:t.ge0(t.result.cost-t.inputs.money)}}):t._e()],1),i("h2",[t._v("物资筹备")]),i("h3",{staticClass:"mdui-m-t-0"},[t._v("LS-5 "),i("small",[t._v("× "+t._s(t.result.ls5))])]),i("div",{staticClass:"num-item-list mdui-valign"},[i("arkn-num-item",{attrs:{t:"0",img:"AP",lable:"理智",num:30*t.result.ls5}}),t._l([5,4,3],function(e){return i("arkn-num-item",{key:"ls5-"+e,attrs:{t:e,img:"E-"+e+"-1",lable:t.expZh[e-2],num:t.result.ls5*t.LS5.drop[e]}})}),i("arkn-num-item",{attrs:{t:"4",img:"G-4-1",lable:"龙门币",num:t.result.ls5*t.LS5.money}})],2),i("h3",[t._v("CE-5 "),i("small",[t._v("× "+t._s(t.result.ce5))])]),i("div",{staticClass:"num-item-list mdui-valign"},[i("arkn-num-item",{attrs:{t:"0",img:"AP",lable:"理智",num:30*t.result.ce5}}),i("arkn-num-item",{attrs:{t:"4",img:"G-4-1",lable:"龙门币",num:t.result.ce5*t.CE5.money}})],1),i("h2",[t._v("预计消耗")]),i("div",{staticClass:"num-item-list"},t._l([5,4,3,2],function(e){return i("arkn-num-item",{key:"num-item-"+e,attrs:{t:e,img:"E-"+e+"-1",lable:t.expZh[e-2]}},[i("span",{staticClass:"mdui-text-color-black-secondary"},[t._v(t._s(t.result.use[e]))]),t._v(" / "+t._s(t.result.have[e])+"\n\t\t\t\t")])}),1)])])])},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("td",{attrs:{width:"1"}},[i("button",{staticClass:"mdui-btn mdui-btn-dense mdui-color-teal no-pe tag-btn"},[t._v("通用")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"with-label mdui-m-r-3"},[i("label",{staticClass:"mdui-textfield-label"},[t._v("经验本")]),i("span",[t._v("LS-5")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"with-label mdui-m-r-3"},[i("label",{staticClass:"mdui-textfield-label"},[t._v("金币本")]),i("span",[t._v("CE-5")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("td",{attrs:{width:"1"}},[i("button",{staticClass:"mdui-btn mdui-btn-dense mdui-color-teal no-pe tag-btn"},[t._v("当前")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("td",{attrs:{width:"1"}},[i("button",{staticClass:"mdui-btn mdui-btn-dense mdui-color-teal no-pe tag-btn"},[t._v("目标")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("td",{attrs:{width:"1"}},[i("button",{staticClass:"mdui-btn mdui-btn-dense mdui-color-teal no-pe tag-btn"},[t._v("已有")])])}],l=(i("ac6a"),i("8615"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"no-sl mdui-m-r-1",attrs:{t:t.t}},[i("div",{staticClass:"mdui-valign",staticStyle:{height:"100%"}},[i("img",{staticClass:"no-pe item-img",attrs:{src:"/img/"+t.img+".png"}})])])}),s=[],u=(i("c5f6"),{name:"arkn-item",props:{t:[Number,String],img:String}}),r=u,m=(i("2992"),i("2877")),c=Object(m["a"])(r,l,s,!1,null,"2e8234d4",null),d=c.exports,o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"num-item"},[i("div",{staticClass:"mdui-valign"},[i("arkn-item",{attrs:{t:t.t,img:t.img}}),i("div",{staticClass:"with-label"},[i("label",{staticClass:"mdui-textfield-label"},[t._v(t._s(t.lable))]),t.num?i("span",[t._v(t._s(t.num))]):i("span",[t._t("default")],2)])],1)])},p=[],v={name:"arkn-num-item",components:{ArknItem:d},props:{t:[Number,String],img:String,lable:String,num:[Number,String]}},b=v,h=(i("b7b1"),Object(m["a"])(b,o,p,!1,null,null,null)),f=h.exports,g=i("2ef0"),_=i.n(g),C=i("17a1"),x={5:2e3,4:1e3,3:400,2:200},k={exp:7400,drop:{5:3,4:1,3:1,2:0},money:360},w={money:7500},y={star:6,current:{elite:0,level:1,exp:0},target:{elite:0,level:1},have:{5:0,4:0,3:0,2:0},money:0};function S(t){return Math.max(t,0)}var E={name:"arkn-level",components:{ArknItem:d,ArknNumItem:f},data:function(){return{l:_.a,inputs:_.a.cloneDeep(y),expZh:["基础","初级","中级","高级"],maxElite:_.a.map(C["c"],function(t){return t.length}),LS5:k,CE5:w}},watch:{inputs:{handler:function(t){for(var e=t.star,i=t.current,a=(t.target,t.have,0),n=["current","target"];a<n.length;a++){var l=n[a],s="".concat(l,".level"),u=_.a.get(t,s);if(""!==u){var r=C["d"][e-1][t[l].elite];u<1?_.a.set(t,s,1):u>r&&_.a.set(t,s,r)}}if(i.exp){i.exp<0&&(i.exp=0);var m=C["a"][i.elite][(i.level||1)-1]||1;i.exp>=m&&(i.exp=m-1)}_.a.each(t.have,function(t,e,i){t&&t<0&&(i[e]=0)}),localStorage.setItem("level.inputs",JSON.stringify(t))},deep:!0}},computed:{result:function(){var t=this.inputs,e=t.star,i=t.current,a=t.target,n=t.have,l=t.money,s=C["d"][e-1],u=_.a.sum(_.a.map(n,function(t,e){return t*x[e]})),r=0,m=0,c=[],d={5:0,4:0,3:0,2:0};if(a.elite>i.elite||a.level>i.level){var o=C["a"][i.elite][i.level-1];if(o){var p=o-i.exp,v=p/o*C["b"][i.elite][i.level-1];r+=p,m+=v}for(var b=i.elite;b<=a.elite;b++,c.push(r)){b>i.elite&&(m+=C["c"][e-1][b-1]);for(var h=b==a.elite?a.level:s[b],f=b==i.elite?i.level+1:1;f<h;f++)r+=C["a"][b][f-1],m+=C["b"][b][f-1]}}var g=S(Math.ceil((r-u)/k.exp));if(c.length>0){_.a.forEachRight(c,function(t,e,i){e>0&&(i[e]-=i[e-1])});for(var y=_.a.mapValues(k.drop,function(t,e){return n[e]+t*g}),E=0,$=c;E<$.length;E++){var O=$[E];while(O>0){0==_.a.sum(Object.values(y))&&(g++,y=_.a.cloneDeep(k.drop));for(var M=5;M>=2;M--)while(O>=x[M]&&y[M]>0)d[M]++,y[M]--,O-=x[M];for(var N=2;N<=5;N++)while(O>0&&y[N]>0)d[N]++,y[N]--,O-=x[N]}}}var A=S(Math.ceil((m-g*k.money-l)/w.money));return{exp:r,cost:Math.ceil(m),ls5:g,ce5:A,use:d,have:_.a.mapValues(k.drop,function(t,e){return n[e]+t*g})}}},methods:{ge0:S,updateSelect:function(){var t=this,e=this.inputs,i=e.star,a=e.current,n=e.target,l=this.maxElite[i-1];a.elite>l&&(a.elite=l),n.elite>l&&(n.elite=l),a.elite>n.elite&&(n.elite=a.elite);var s=this.$root.Mdui.JQ;this.$nextTick(function(){return s(".select-need-update").each(function(e,i){return new t.$root.Mdui.Select(i).handleUpdate()})})},reset:function(){this.inputs=_.a.cloneDeep(y)}},created:function(){var t=localStorage.getItem("level.inputs");t&&(this.inputs=JSON.parse(t))}},$=E,O=(i("8dd5"),Object(m["a"])($,a,n,!1,null,null,null));e["default"]=O.exports},"8dd5":function(t,e,i){"use strict";var a=i("46aa"),n=i.n(a);n.a},a07d:function(t,e,i){},b7b1:function(t,e,i){"use strict";var a=i("a07d"),n=i.n(a);n.a}}]);